# JWT 

JWTλ” ν•λ‚μ μΈν„°λ„· ν‘μ¤€ μΈμ¦ λ°©μ‹μΌλ΅ μΈμ¦μ— ν•„μ”ν• μ •λ³΄λ“¤μ„ Tokenμ— λ‹΄μ•„ μ•”νΈν™”μ‹ν‚¨λ‹¤.      
Cookieμ™€ ν¬κ²“ λ‹¤λ¥΄μ§€λ” μ•μ§€λ§, κ°•μ΅°λλ” μ μ€ **μ„λ…λ ν† ν°**μ΄λΌλ” κ²ƒμ΄λ‹¤.     
              
κ³µκ°/κ°μΈ ν‚¤λ¥Ό μμΌλ΅ μ‚¬μ©ν•μ—¬ μ„λ…ν•  κ²½μ°             
κ°μΈ ν‚¤λ¥Ό λ³΄μ ν• μ„λ²„κ°€ μ΄ μ„λ…λ ν† ν°μ΄ μ •μƒμ μΈ ν† ν°μΈμ§€ μΈμ¦ν•  μ μλ‹¤λ” κ²ƒμ΄λ‹¤.        
μ΄λ¬ν• JWTμ κµ¬μ΅° λ•λ¬Έμ— μΈμ¦ μ •λ³΄λ¥Ό λ‹΄μ•„ μ•μ „ν•κ² μΈμ¦μ„ μ‹λ„ν•κ²λ” μ „λ‹¬ν•  μ μλ” κ²ƒμ΄λ‹¤.      
  
**κµ¬μ„±μ”μ†**  
* Header : ν† ν° νƒ€μ…, μ„λ… μƒμ„± μ•κ³ λ¦¬μ¦ 
* Payload : μ‹¤μ  λ°μ΄ν„° λ³Έλ¬Έ 
* Signature : 

## Header   

```json
{
  "typ": "JWT",
  "alg": "HS512"
}
```  
headerμ—λ” λ³΄ν†µ ν† ν°μ νƒ€μ…μ΄λ‚, μ„λ… μƒμ„±μ— μ–΄λ–¤ μ•κ³ λ¦¬μ¦μ΄ μ‚¬μ©λμ—λ”μ§€ μ €μ¥ν•λ‹¤.     

## Payload  

```json
{
  "sub": "1",
  "iss": "ori",
  "exp": 1636989718,
  "iat": 1636987918
}
```
playload μ€ λ³΄ν†µ Claim μ΄λΌλ” μ‚¬μ©μ/ν† ν°μ— λ€ν• ν”„λ΅νΌν‹°λ¥Ό Key-Value ν•νƒλ΅ μ €μ¥ν•λ‹¤.   
Claimμ΄λΌλ” λ§ κ·Έλ€λ΅ ν† ν°μ—μ„ μ‚¬μ©ν•  μ •λ³΄μ μ΅°κ°μ„ μλ―Έν•λ‹¤.     
  
**JWT ν‘μ¤€ Claim μ¤ν™**     *
1. iss(Issure): ν† ν° λ°κΈ‰μ 
2. sub(Subject): ν† ν° μ λ©(μ‚¬μ©μμ— λ€ν• μ‹λ³„κ°’)    
3. aud(Audience): ν† ν° λ€μƒμ  
4. exp(Expiration Time): ν† ν° λ§λ£ μ‹κ°„  
5. iat(Issued At): ν† ν° λ°κΈ‰ μ‹κ°„
6. nbf(Not Before): ν† ν° ν™μ„± λ‚ μ§(μ΄ λ‚ μ§ μ΄μ „μ ν† ν°μ€ ν™μ„±ν™” λμ§€ μ•μμ„ λ³΄μ¥)   
7. jti(JWT id): JWT ν† ν° μ‹λ³„μ(Issureκ°€ μ—¬λΏμΌ κ²½μ° μ‚¬μ©ν•λ‹¤)   

JWT ν‘μ¤€ Claim μ¤ν™μ€ λ‹¨μν μ¤ν™μΌ λΏμ΄μ§€ κΌ­ μ΄ 7κ°€μ§€λ§ μ‚¬μ©ν•΄μ•Όν•λ” λ²•μ€ μ—†λ‹¤.    
μƒν™©μ— λ”°λΌ μ‚¬μ©ν•κ³  ν•„μ”μ‹ μ‚¬μ©μκ°€ μ»¤μ¤ν…€ν•κ² λ§λ“¤μ–΄ μ‚¬μ©ν•  μ μλ‹¤.    
        
**λ‹¨, μ¤‘μ”ν• κ²ƒμ€ payload μ—λ” λ―Όκ°ν• μ •λ³΄λ¥Ό λ‹΄μ§€ μ•μ•„μ•Όν•λ‹¤.**           
headerμ™€ payloadμ κ²½μ° base64λ΅ μΈμ½”λ”© λμ–΄μμ„ λΏμ΄μ§€ νΉλ³„ν• μ•”νΈν™”κ°€ κ±Έλ ¤μλ” κ²ƒμ΄ μ•„λ‹λ‹¤.            
λ„κµ¬λ‚ jwtλ¥Ό κ°€μ§€κ³  μλ‹¤λ©΄ base64 λ””μ½”λ”©μ„ ν†µν•΄ headerλ‚ payloadμ— λ‹΄κΈ΄ κ°’μ„ μ• μ μλ‹¤.        
κ·Έλ ‡κΈ° λ•λ¬Έμ— JWT Payloadλ” λ‹¨μν **μ‹λ³„ν•κΈ° μ„ν• μ •λ³΄**λ§μ„ λ‹΄μ•„λ‘λ”κ² μΆ‹λ‹¤.    
      
**κ·Έλ ‡λ‹¤λ©΄, Headerμ™€ Payloadμ—λ„ μ•”νΈν™”λ¥Ό ν•΄μ•Όν•μ§€ μ•λ‚? π¤”**         
* μ•„λ‹λ‹¤. λ§μ•½ κ·Έλ ‡κ² ν•λ‹¤λ©΄ λ§¤ μ”μ²­μ‹λ§λ‹¤ λ³µνΈν™”ν•λ” μ‘μ—…μ„ μ¶”κ°€λ΅ μ§„ν–‰ν•΄μ•Όν•λ‹¤.        
* κ·Έλ ‡κΈ° λ•λ¬Έμ— μ μ¶λμ—μ„ λ• κ·Έλ ‡κ² ν° μƒκ΄€μ΄ μ—†λ” λΉ„λ―Όκ° μ •λ³΄λ¥Ό ν† ν°μ— λ‹΄λ” κ²ƒμ΄ κΈ°λ³Έ μ¤ν™μ΄λ‹¤.  

## Signature
JWTμ—μ„ κ°€μ¥ μ¤‘μ”ν• μ”μ†μΈ μ„λ…μ΄λ‹¤.       

![α„ƒα…΅α„‹α…®α†«α„…α…©α„ƒα…³](https://user-images.githubusercontent.com/50267433/146970625-188ee54e-b235-4bd8-8960-61cb5e25da22.png)
  
μ„λ…μ€ μ„μ™€ κ°™μ΄ headerλ¥Ό λ””μ½”λ”©ν• κ°’, payloadλ¥Ό λ””μ½”λ”©ν• κ°’μ„ ν•©μΉκ³       
μ΄λ¥Ό `your-256-bit-secret` μ¦‰, μ„λ²„κ°€ κ°€μ§€κ³  μλ” κ°μΈν‚¤λ¥Ό κ°€μ§€κ³  μ•”νΈν™”λμ–΄μλ” μƒνƒλ‹¤.    
    
λ”°λΌμ„ signatureλ” μ„λ²„μ— μλ” κ°μΈν‚¤λ΅λ§ μ•”νΈν™”λ¥Ό ν’€ μ μκ³            
**λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈλ” μ„μλ΅ Signatureλ¥Ό λ³µνΈν™”ν•  μ μ—†λ‹¤.**         
  
1. JWT ν† ν°μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅ μ”μ²­κ³Ό λ™μ‹μ— μ „λ‹¬ν•λ‹¤.      
2. μ„λ²„κ°€ κ°€μ§€κ³ μλ” κ°μΈν‚¤λ¥Ό κ°€μ§€κ³  Signatureλ¥Ό λ³µνΈν™”ν•λ‹¤.     
3. base64UrlEncode(header)κ°€ JWTμ heaerκ°’κ³Ό μΌμΉν•μ§€ ν™•μΈν•λ‹¤     
4. base64UrlEncode(payload)κ°€ JWTμ payloadκ°’κ³Ό μΌμΉν•μ§€ ν™•μΈν•λ‹¤.  
5. λ¨λ“  λ°μ΄ν„°κ°€ μΌμΉν•  κ²½μ° μΈμ¦μ„ ν—μ©ν•λ‹¤.        
   
μ—¬κΈ°μ„ μ¤‘μ”ν• μ μ€ κ°μΈν‚¤λ¥Ό ν†µν•΄ λ³µνΈν™”λ¥Ό ν•λ” κ²ƒλΏλ§ μ•„λ‹λΌ     
payloadμ— λ‹΄κΈ΄ μ‹λ³„μκ°€ λ³€μ΅°λ JWTλ΅ μ”μ²­μ„ ν•λ”λΌλ„     
μ„λ²„κ°€ μ• μ΄μ— λ°κΈ‰ν–λ Signature μ•μ payloadμ™€ λ‹¤λ¥΄κΈ° λ•λ¬Έμ— μΈμ¦μ΄ λ¶κ°€λ¥ν•΄μ§„λ‹¤.  

# JWT μ¥μ  
# JWT λ‹¨μ (ν•κ³„)  
   



# μ°Έκ³  
RestAPI μ„λ²„λ” Statelessν•΄μ•Όν•λ‹¤.  



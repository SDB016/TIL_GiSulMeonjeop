# elasticsearch 
* 아파치 루씬을 기반으로 한 대표적인 자바 오픈소스 검색엔진이다.    
  * 검색 엔진: 광활한 웹에서 정보를 수집해 검색 결과를 제공하는 프로그램이다. (Elasticsearch)          
* RDB 는 **단순 텍스트매칭**에 대한 검색만을 제공     
* 엘라스틱서치에서는 관계형 데이터베이스에서 불가능한 **비정형 데이터의 색인과 검색 및 동의어나 유의어도 검색 가능**     
      
# RDBMS 인덱스     
클러스터형 인덱스 :   
테이블에 오직 한개만 존재하며 인덱스 열에 대한 자동 정렬이 이루어진다.    
* PRIMARY KEY를 지정해주면 자동으로 생성 된다.    
* UNIQUE에 NOT NULL을 붙여주면 PK와 비슷한 성질을 가지니 이런 방법도 가능하다. (단, PK가 우선)     
          
보조 인덱스 :   
비유하자면 책의 <찾아보기>  
정렬이 되지 않고 오로지 순서대로만 나열되어 있으며 데이터페이지 와 인덱스 페이지가 따로 논다.  
테이블에 여러개 만들 수 있다. 
* UNIQUE [NULL]로 지정한 열은 보조 인덱스가 생성된다
   
B-TREE(균형 트리)로 구성되어 있다.      
사용하지 않는 인덱스를 제거함으로써    
공간을 확보할 뿐 아니라 데이터의 입력 시에 발생되는 부하도 많이 줄일 수 있다.    

# 자바 muttable, immutable
muttable  : 인스턴스가 생성된 후에 값의 내용이 변할 수 있는 클래스, 주소는 못 바꾼다.
immutable : 인스턴스가 일단 생성된 후에는 인스턴스의 내용이 절대 변하지 않는 특징을 갖는 클래스   
    
대표적인 예로 String 이 있는데        
immutable 객체는 객체를 복사시 주소값만 복사 -> 새롭게 생성되는 것이 아니라 기존 메모리를 참조        
멀티 스레드 관점에서 보았을 때 데이터가 불변객체에 저장이 되어있다면 여러스레드에 의해서       
이 객체 안의 데이터에 접근을 하게 되었을 때 데이터의 변경될 우려가 없다.        
    
String은 immutable 객체이므로 + 하는 String 의 갯수가 늘어나면 늘어날수록    
GC 대상 object 수도 함께 늘어나고 그만큼 새롭게 객체를 생성하기에 memory 할당도 추가로 늘어나게 된다는 것입니다.     

StringBuffer는 mutable 객체이다.    

# 자바 8
1. Optinal 
2. 람다 -> 인터페이스에 메소드가 하나인 것들만 적용 가능하다. -> 익명클래스 기술하지 않고 인터페이스의 추상 메서드 바로 구현      
3. 인터페이스의 Default method      
4. 날짜 관련 클래스들 -> 기존의 Date 없애고 LocalDate   
5. Stream ->  순차적으로 데이터를 처리한다.(index순) -> filter나 map 사용 

# Controller 객체(Bean)는 한 개가 생성되는 맞고 그 하나의 컨트롤러를 사용   
일단 OK     
Request별로 쓰레드가 따로 생성되고 각각의 Context를 갖는다는 것을 인지하고 있었지만,     
그 쓰레드들이 Controller 객체를 공유하니까 이거 문젠데?       

**결론 : **    
객체는 힙에 생성되지만       
해당 클래스의 정보(메소드라면 메소드 처리 로직(명령들))는 메소드영역에 생성된다는 것입니다.      
내부적으로 상태를 갖는게 없으니 그냥 메소드 호출만 하기 때문에 동기화할 필요가 없고      
처리 로직만 쓰이기 때문에 1만 개의 요청이든 10만 개의 요청이든 상관없다는 얘기인 것이지요.      

